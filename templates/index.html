<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Dance Pose Generator</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-robot"></i> 3D Dance Pose Generator</h1>
            <p class="subtitle">Real-time procedural dance animation with WebSockets</p>
        </header>

        <div class="main-content">
            <div class="control-panel">
                <div class="control-section">
                    <h2><i class="fas fa-sliders-h"></i> Controls</h2>
                    
                    <div class="control-group">
                        <label><i class="fas fa-music"></i> Dance Style</label>
                        <div class="style-buttons" id="styleButtons">
                            <button class="style-btn active" data-style="afrobeats">
                                <i class="fas fa-drum"></i> Afrobeat
                            </button>
                            <button class="style-btn" data-style="hiphop">
                                <i class="fas fa-headphones"></i> Hip Hop
                            </button>
                            <button class="style-btn" data-style="electro">
                                <i class="fas fa-bolt"></i> Electro
                            </button>
                            <button class="style-btn" data-style="salsa">
                                <i class="fas fa-fire"></i> Salsa
                            </button>
                            <button class="style-btn" data-style="robot">
                                <i class="fas fa-robot"></i> Robot
                            </button>
                        </div>
                    </div>

                    <div class="control-group">
                        <label for="duration"><i class="fas fa-clock"></i> Duration (seconds)</label>
                        <div class="slider-container">
                            <input type="range" id="duration" min="5" max="60" value="10" step="5">
                            <span id="durationValue">10s</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <label><i class="fas fa-play-circle"></i> Animation Mode</label>
                        <div class="mode-buttons">
                            <button id="streamMode" class="mode-btn active">
                                <i class="fas fa-stream"></i> Stream
                            </button>
                            <button id="sessionMode" class="mode-btn">
                                <i class="fas fa-play"></i> Session
                            </button>
                        </div>
                    </div>

                    <div class="control-buttons">
                        <button id="startBtn" class="btn btn-primary">
                            <i class="fas fa-play"></i> Start Dancing
                        </button>
                        <button id="stopBtn" class="btn btn-secondary" disabled>
                            <i class="fas fa-stop"></i> Stop
                        </button>
                        <button id="resetBtn" class="btn btn-outline">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>

                    <div class="stats">
                        <h3><i class="fas fa-chart-line"></i> Live Stats</h3>
                        <div class="stat-grid">
                            <div class="stat-item">
                                <span class="stat-label">FPS</span>
                                <span class="stat-value" id="fps">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Frames</span>
                                <span class="stat-value" id="frameCount">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Time</span>
                                <span class="stat-value" id="timeElapsed">0.00s</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Style</span>
                                <span class="stat-value" id="currentStyle">afrobeats</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pose-data">
                    <h3><i class="fas fa-code"></i> Current Pose Data</h3>
                    <pre id="poseData">Click "Start Dancing" to begin...</pre>
                </div>
            </div>

            <div class="visualization">
                <div class="canvas-container">
                    <div id="sceneInfo">
                        <i class="fas fa-info-circle"></i> Drag to rotate â€¢ Scroll to zoom
                    </div>
                    <div class="view-controls">
                        <button class="view-btn" id="resetViewBtn" title="Reset View">
                            <i class="fas fa-crosshairs"></i>
                        </button>
                        <button class="view-btn" id="frontViewBtn" title="Front View">
                            <i class="fas fa-user"></i>
                        </button>
                        <button class="view-btn" id="topViewBtn" title="Top View">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="view-btn" id="sideViewBtn" title="Side View">
                            <i class="fas fa-arrows-alt-h"></i>
                        </button>
                    </div>
                    <div id="threeContainer"></div>
                </div>
                
                <div class="instructions">
                    <h3><i class="fas fa-graduation-cap"></i> How It Works</h3>
                    <ul>
                        <li>Select a dance style from the buttons</li>
                        <li>Choose between continuous stream or timed session</li>
                        <li>Click <strong>"Start Dancing"</strong> to begin the animation</li>
                        <li>Rotate the 3D view with your mouse</li>
                        <li>Zoom with scroll wheel</li>
                    </ul>
                </div>
            </div>
        </div>

        <footer>
            <p>3D Dance Pose Generator | Powered by FastAPI & Three.js | FPS: <span id="currentFPS">0</span></p>
        </footer>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>